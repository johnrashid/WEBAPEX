<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Choose Part of Speech</title>
  <link rel="stylesheet" href="grammartest.css">
  <link rel="stylesheet" href="design.css">
</head>
<body>

  <button type="button" class="back-btn" onclick="history.back()" aria-label="Go back">
    <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path d="M20 11H7.83l5.58-5.59L12 4 4 12l8 8 1.41-1.41L7.83 13H20v-2z" fill="#fff"/>
    </svg>
  </button>

  <main class="canvas" role="main">
    <h1 class="title">Choose what Part of Speech you want to answer.</h1>

    <div class="parts-container" aria-live="polite">
      <button id="prevBtn" class="pager-btn prev" aria-label="Previous" title="Previous">
        <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true"><path fill="#fff" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
      </button>

      <div class="parts-card" id="partsCard">
        <button id="choiceDisplay" class="choice-display" type="button" aria-label="Selected part">Loadingâ€¦</button>
      </div>

      <button id="nextBtn" class="pager-btn next" aria-label="Next" title="Next">
        <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true"><path fill="#fff" d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg>
      </button>
    </div>

  </main>

  <script>
    const choices = ['Subject','Verb','Compound','Indefinite Pronouns','Expressions of Quantity'];
    let idx = 0;

    const choiceDisplay = document.getElementById('choiceDisplay');
    const prev = document.getElementById('prevBtn');
    const next = document.getElementById('nextBtn');

    function render(){
      choiceDisplay.textContent = choices[idx];
      prev.disabled = idx === 0;
      next.disabled = idx === choices.length - 1;
    }

    prev.addEventListener('click', ()=>{ if (idx>0){ idx--; render(); } });
    next.addEventListener('click', ()=>{ if (idx<choices.length-1){ idx++; render(); } });

    // Make the choice display itself clickable; for 'Noun' open the noun quiz
    const choiceBtn = document.getElementById('choiceDisplay');
    if (choiceBtn) {
      choiceBtn.addEventListener('click', ()=>{
        const selected = choices[idx];
          switch(selected){
            case 'Subject': window.location.href = 'grammartest-sva-subject.html'; break;
            case 'Verb': window.location.href = 'grammartest-sva-verb.html'; break;
            case 'Compound': window.location.href = 'grammartest-sva-compound.html'; break;
            case 'Indefinite Pronouns': window.location.href = 'grammartest-sva-indefinite-pronouns.html'; break;
            case 'Expressions of Quantity': window.location.href = 'grammartest-sva-expressions.html'; break;
            default: alert('Quiz for "' + selected + '" is not implemented yet.');
          }
      });
      // make Enter/Space activate the button for keyboard users
      choiceBtn.addEventListener('keydown', (e)=>{
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); choiceBtn.click(); }
      });
    }

    // keyboard support
    document.addEventListener('keydown', (e)=>{
      if (e.key === 'ArrowLeft') prev.click();
      if (e.key === 'ArrowRight') next.click();
    });

    render();
  </script>
</body>
</html>
